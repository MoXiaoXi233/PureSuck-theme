/* PureSuck 动画基础设置 */

/* 动画变量定义 */
:root {
	--ps-anim-duration-fast: 180ms;
	--ps-anim-duration-normal: 240ms;
	--ps-anim-duration-slow: 320ms;
	--ps-anim-duration-vt: 380ms;

	--ps-anim-ease-out: cubic-bezier(0.4, 0, 0.2, 1);
	--ps-anim-ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);

	--ps-anim-translate-small: 12px;
	--ps-anim-translate-medium: 24px;
	--ps-anim-translate-large: 48px;

	--ps-anim-scale-exit: 0.96;
	--ps-anim-scale-enter: 0.98;

	--ps-vt-duration: var(--ps-anim-duration-vt);
	--ps-vt-easing: cubic-bezier(0.22, 0.68, 0.35, 1.0);
	--ps-vt-radius: 0.85rem;
}

/* Swup 导航状态控制 */
html.is-animating {
	scroll-behavior: auto !important;
}

/* 预加载状态（防止首屏闪烁） */

/* 列表页预加载状态 */
html.ps-preload-list-enter .post.post--index,
html.ps-preload-list-enter .archive-title,
html.ps-preload-list-enter .main-pager,
html.ps-preload-list-enter .main-lastinfo {
	opacity: 0 !important;
	transform: translate3d(0, var(--ps-anim-translate-large), 0) !important;
}

/* 文章页预加载状态 */
html.ps-preload-post-enter .post.post--single .post-meta,
html.ps-preload-post-enter .post.post--single .post-content > *,
html.ps-preload-post-enter .post.post--single .protected-block,
html.ps-preload-post-enter .post.post--single .license-info-card {
	opacity: 0 !important;
	transform: translate3d(0, var(--ps-anim-translate-small), 0) !important;
}
html.ps-preload-post-enter .post.post--single .post-comments {
	opacity: 0 !important;
	transform: translate3d(0, var(--ps-anim-translate-medium), 0) !important;
}

/* 独立页预加载状态 */
html.ps-preload-page-enter .post.post--index.main-item:not(.post--single) {
	opacity: 0 !important;
	transform: translate3d(0, 40px, 0) scale(0.98) !important;
}
html.ps-preload-page-enter .post.post--index.main-item .post-title,
html.ps-preload-page-enter .post.post--index.main-item .post-meta,
html.ps-preload-page-enter .post.post--index.main-item .inner-post-wrapper > * {
	opacity: 0 !important;
	transform: translate3d(0, 12px, 0) !important;
}

/* 无障碍支持 */
@media (prefers-reduced-motion: reduce) {
	html.ps-preload-list-enter .post.post--index,
	html.ps-preload-list-enter .archive-title,
	html.ps-preload-list-enter .main-pager,
	html.ps-preload-list-enter .main-lastinfo,
	html.ps-preload-post-enter .post.post--single .post-meta,
	html.ps-preload-post-enter .post.post--single .post-content > *,
	html.ps-preload-post-enter .post.post--single .protected-block,
	html.ps-preload-post-enter .post.post--single .license-info-card,
	html.ps-preload-post-enter .post.post--single .post-comments,
	html.ps-preload-page-enter .post.post--index.main-item:not(.post--single),
	html.ps-preload-page-enter .post.post--index.main-item .post-title,
	html.ps-preload-page-enter .post.post--index.main-item .post-meta,
	html.ps-preload-page-enter .post.post--index.main-item .inner-post-wrapper > * {
		opacity: 1 !important;
		transform: none !important;
	}

	html.ps-animating {
		scroll-behavior: auto !important;
	}

	html.ps-animating *,
	html.ps-animating *::before,
	html.ps-animating *::after {
		transition: none !important;
		animation: none !important;
	}
}

/* 滚动条控制 */
html.ps-animating {
	scrollbar-gutter: stable;
}
